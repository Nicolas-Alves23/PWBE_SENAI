{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<!-- Pagina de listar livros para vizualizarmos os livros -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'biblioteca/css/style.css' %}">
    <title>Lista de Livros</title>
</head>

<body class="margin">




    <form method="get" action="{% url 'listar_livros' %}">
        <input type="text" name="titulo" placeholder="Titulo">
        <input type="number" name="ano_pubi" placeholder="Ano">
        <input type="text" name="autor" placeholder="Autor">

        <button type="submit">Pesquisar</button>
    </form>
    

    {% if livro %}
    <ul>
        {% for livro in livro %}
        <li>
            <strong>{{ livro.titulo }}</strong> - {{ livro.ano }} - R$ {{ livro.autor }} 
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>Nenhum produto encontrado com esses critérios.</p>
    {% endif %}



    <h1 class="title">Lista de Livros</h1>
    <a class="cadastrar_livro" href="{% url 'cadastrar_livro' %}">Cadastrar Novo Livro</a>

    {% for livro in livros %}
    <div class="card">
        <svg class="wave" viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M0,256L11.4,240C22.9,224,46,192,69,192C91.4,192,114,224,137,234.7C160,245,183,235,206,213.3C228.6,192,251,160,274,149.3C297.1,139,320,149,343,181.3C365.7,213,389,267,411,282.7C434.3,299,457,277,480,250.7C502.9,224,526,192,549,181.3C571.4,171,594,181,617,208C640,235,663,277,686,256C708.6,235,731,149,754,122.7C777.1,96,800,128,823,165.3C845.7,203,869,245,891,224C914.3,203,937,117,960,112C982.9,107,1006,181,1029,197.3C1051.4,213,1074,171,1097,144C1120,117,1143,107,1166,133.3C1188.6,160,1211,224,1234,218.7C1257.1,213,1280,139,1303,133.3C1325.7,128,1349,192,1371,192C1394.3,192,1417,128,1429,96L1440,64L1440,320L1428.6,320C1417.1,320,1394,320,1371,320C1348.6,320,1326,320,1303,320C1280,320,1257,320,1234,320C1211.4,320,1189,320,1166,320C1142.9,320,1120,320,1097,320C1074.3,320,1051,320,1029,320C1005.7,320,983,320,960,320C937.1,320,914,320,891,320C868.6,320,846,320,823,320C800,320,777,320,754,320C731.4,320,709,320,686,320C662.9,320,640,320,617,320C594.3,320,571,320,549,320C525.7,320,503,320,480,320C457.1,320,434,320,411,320C388.6,320,366,320,343,320C320,320,297,320,274,320C251.4,320,229,320,206,320C182.9,320,160,320,137,320C114.3,320,91,320,69,320C45.7,320,23,320,11,320L0,320Z"
                fill-opacity="1"></path>
        </svg>

        <div class="icon-container">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" stroke-width="0" fill="currentColor"
                stroke="currentColor" class="icon">
                <path
                    d="M256 48a208 208 0 1 1 0 416 208 208 0 1 1 0-416zm0 464A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0l-111 111-47-47c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l64 64c9.4 9.4 24.6 9.4 33.9 0L369 209z">
                </path>
            </svg>
        </div>
        <div class="message-text-container">
            <p class="message-text"> Livro: <strong>{{ livro.titulo }}</strong> </p>
            <p class="sub-text"> Autor: {{ livro.autor }} Lançamento: ({{ livro.ano_pubi }})</p>
        </div>
        <a class="link_1" href="{% url 'atualizar_livros' livro.pk %}">
            <svg width="20" height="20" viewBox="0 0 99 99" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M84.3614 3.13991L85.2926 2.20866C85.9935 1.50814 86.8256 0.952533 87.7412 0.573572C88.6569 0.19461 89.6382 -0.00028986 90.6292 3.2356e-07C91.6202 0.000290507 92.6014 0.195765 93.5168 0.575263C94.4322 0.954761 95.2639 1.51085 95.9645 2.21178C96.665 2.91271 97.2206 3.74476 97.5996 4.66041C97.9785 5.57606 98.1734 6.55739 98.1731 7.54837C98.1728 8.53934 97.9774 9.52055 97.5979 10.436C97.2184 11.3514 96.6623 12.1831 95.9613 12.8837L95.0301 13.8087C96.6231 15.5953 97.4724 17.9236 97.4039 20.3163C97.3353 22.7091 96.3541 24.9849 94.6613 26.6774L30.3363 91.0087C29.9342 91.4087 29.4308 91.6917 28.8801 91.8274L3.8801 98.0774C3.35693 98.2077 2.80895 98.2004 2.28943 98.0562C1.76991 97.9121 1.29653 97.636 0.915291 97.2547C0.534056 96.8735 0.257938 96.4001 0.11378 95.8806C-0.0303792 95.3611 -0.0376754 94.8131 0.0926002 94.2899L6.3426 69.2899C6.47935 68.7414 6.76231 68.2403 7.16135 67.8399L67.4239 7.5774C66.8211 7.15322 66.0879 6.9557 65.3537 7.01974C64.6195 7.08378 63.9315 7.40527 63.4114 7.9274L42.8363 28.5087C42.5458 28.7992 42.2009 29.0297 41.8212 29.1869C41.4416 29.3442 41.0347 29.4251 40.6238 29.4251C40.2129 29.4251 39.8061 29.3442 39.4265 29.1869C39.0468 29.0297 38.7019 28.7992 38.4114 28.5087C38.1208 28.2181 37.8903 27.8732 37.7331 27.4936C37.5758 27.1139 37.4949 26.7071 37.4949 26.2962C37.4949 25.8853 37.5758 25.4784 37.7331 25.0988C37.8903 24.7191 38.1208 24.3742 38.4114 24.0837L58.9988 3.50866C60.6924 1.815 62.97 0.833786 65.3642 0.766376C67.7584 0.698967 70.0876 1.55048 71.8738 3.14616C73.5911 1.6114 75.8133 0.76248 78.1164 0.761328C80.4196 0.760175 82.6425 1.60687 84.3614 3.13991ZM80.3363 7.9274C79.7503 7.34156 78.9556 7.01245 78.127 7.01245C77.2983 7.01245 76.5036 7.34156 75.9176 7.9274L12.1864 71.6462L7.41135 90.7524L26.5176 85.9774L90.2488 22.2587C90.5399 21.9684 90.7708 21.6235 90.9283 21.2439C91.0858 20.8642 91.1669 20.4572 91.1669 20.0462C91.1669 19.6351 91.0858 19.2281 90.9283 18.8484C90.7708 18.4688 90.5399 18.1239 90.2488 17.8337L80.3363 7.9274Z"
                    fill="black" />
            </svg>
        </a>

        <a class="link_2" href="{% url 'excluir_livro' livro.pk %}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15" stroke-width="0" fill="none"
                stroke="currentColor" class="cross-icon">
                <path fill="currentColor"
                    d="M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z"
                    clip-rule="evenodd" fill-rule="evenodd"></path>
            </svg>
        </a>
        <a class="link_1" href="{% url 'atualizar_livros' livro.pk %}"></a>
    </div>

    {% empty %}
    <li>Nenhum livro cadastrado.</li>
    {% endfor %}
</body>

</html>